# 课题 5：房源定价策略与收益–入住率权衡

> 提示：本课题重点是理解“价格–入住率–RevPAR 三者的关系”，适合希望加强业务直觉的同学。  
> 通用规范（EDA、Train/Val/Test、Git、报告撰写等）请参考课程总 README。

---

## 一、课题背景与核心问题

对于房东和平台来说，定价是一个典型的“权衡问题”：

- 价格定得高：每晚收入高，但可能影响入住率；  
- 价格定得低：入住率可能升高，但单晚收益下降；  
- 真正重要的是 **RevPAR（每可供出租房晚收益）**，即：  
  > RevPAR = 平均房价 × 入住率

本课题希望基于历史数据，建立简单的“价格–入住率”关系模型，并在此基础上模拟不同定价策略下的收益表现。

---

## 二、数据字段建议

### 1. Calendar Rates（主数据）

- 价格与表现：  
  `rate_avg, booked_rate_avg, occupancy, revenue`
- 其他辅助：  
  `min_nights_avg, booking_lead_time_avg, length_of_stay_avg`

### 2. Listings（过滤条件 + 静态特征）

- 示例字段：`room_type, guests, bedrooms, city, superhost, professional_management` 等。

---

## 三、必做任务

### 1. 数据选择与分层

1. 选定一个城市（`city`）；  
2. 选择一个子市场（例如：“整套房 + 2–4 客人”）；  
3. 对每个 listing，获取一段连续多月的 `rate_avg` 与 `occupancy` 数据；
4. 为减少季节性干扰，可以：
   - 限制在某一个季节内分析，或  
   - 在后续建模中加入月份哑变量控制季节性。

### 2. 价格–入住率关系建模

可以围绕以下思路构建模型（二选一或组合）：

1. **分箱 + 统计方式**  
   - 将 `rate_avg` 按区间分箱（例如分成若干价格档）；  
   - 在每一个价格档内计算平均 `occupancy`；  
   - 得到离散的“价格–入住率”曲线。

2. **回归模型方式**  
   - 认为 `occupancy` 由 `rate_avg` 决定，可以尝试：  
     - 简单线性模型：`occupancy = a + b * rate_avg`；  
     - 或对价格取对数后建模（近似弹性估计）。  

在此基础上，计算不同价格档下的 **期望 RevPAR**：

> RevPAR(price) = price × occupancy(price)

并绘制：

- 价格 vs 入住率 曲线；  
- 价格 vs RevPAR 曲线。

### 3. 策略模拟与对比

在构造好的模型上，设计 2–3 套简单策略，例如：

1. **强收割策略**：  
   - 选择偏高价格（靠近“价格区间上限”），接受较低入住率；
2. **强占有策略**：  
   - 选择偏低价格，追求高入住率；
3. **折中策略**：  
   - 选择 RevPAR 曲线的“局部最大值”附近的价格。

在历史数据框架内，模拟不同策略对应的：

- 平均 RevPAR；  
- 总收入（在给定时间段内）。

使用图表展示策略对比结果，并给出结论：  
在该城市 / 子市场中，哪种策略更合适？在什么条件下需要调整？

---

## 四、选做任务（加分项）

1. **引入预订提前期和停留时长**  
   - 探索在高价策略下：  
     - `booking_lead_time_avg` 是否明显上升（提前预订）；  
     - `length_of_stay_avg` 是否有变化（高价是否更容易吸引短住或长住）。
2. **专业运营 vs 普通房东**  
   - 按 `professional_management` 或 `superhost` 分组；  
   - 比较不同组在“价格–入住率”曲线、RevPAR 曲线上的差异；  
   - 讨论专业运营是否更擅长在价格和入住率之间找到平衡。
